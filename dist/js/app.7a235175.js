(function(t){function e(e){for(var i,a,r=e[0],l=e[1],c=e[2],h=0,d=[];h<r.length;h++)a=r[h],n[a]&&d.push(n[a][0]),n[a]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,r=1;r<s.length;r++){var l=s[r];0!==n[l]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},n={app:0},o=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var i=s("64a9"),n=s.n(i);n.a},1:function(t,e){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var i=s("2b0e"),n=s("28dd"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},a=[],r={name:"app"},l=r,c=(s("034f"),s("2877")),u=Object(c["a"])(l,o,a,!1,null,null,null);u.options.__file="App.vue";var h=u.exports,d=s("8c4f"),m={easy:{size:8,bombsCount:10},medium:{size:12,bombsCount:30},hard:{size:16,bombsCount:55}},f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"buttons"},[s("h1",[t._v("Miner v.1.23.913.R.111")]),s("router-link",{staticClass:"btn",attrs:{to:"/easy",tag:"button"}},[t._v("Easy")]),s("router-link",{staticClass:"btn",attrs:{to:"/medium",tag:"button"}},[t._v("Medium")]),s("router-link",{staticClass:"btn",attrs:{to:"/hard",tag:"button"}},[t._v("Hard")])],1)},p=[],v=(s("d286"),{}),b=Object(c["a"])(v,f,p,!1,null,"29736412",null);b.options.__file="Home.vue";var _=b.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",[t.victory?s("Modal",{attrs:{time:t.stopwatch}}):t._e(),s("div",{staticClass:"field",style:{gridTemplateColumns:"repeat("+t.size+", 50px)",gridTemplateRows:"repeat("+t.size+", 50px)"}},t._l(t.cells,function(e,i){return s("div",{key:i,staticClass:"line"},t._l(e,function(e,n){return s("div",{key:i+""+n,staticClass:"cell",class:e.clicked?e.value===t.bomb?"bomb":"opened":e.rightClicked?"flag":"",on:{click:function(e){t.cellClick(i,n)},contextmenu:function(e){e.preventDefault(),t.cellRightClick(i,n)}}},[e.clicked&&-1===[t.bomb,0].indexOf(e.value)?s("span",[t._v(t._s(e.value))]):t._e()])}),0)}),0),s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.createField(e)}}},[t._v("Restart")])],1)])},y=[],C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade"}},[s("div",{staticClass:"modal"},[s("div",{staticClass:"modal__backdrop"}),s("div",{staticClass:"modal__inner"},[s("div",{staticClass:"modal__top"},[s("h2",[t._v("Congratulations! You win!")])]),s("div",{staticClass:"modal__body"},[t.leaderboard?s("div",{staticClass:"leaderboard"},[s("h3",[t._v("Leaderboard")]),s("ol",t._l(t.leaderboard,function(e,i){return s("li",{key:i,class:e.name===t.name?"leader":"",attrs:{"data-position":i+1}},[s("mark",[t._v(t._s(e.name))]),s("span",[t._v(t._s(t.formatTime(e.time)))])])}),0),t.position>5?s("div",[s("p",{staticClass:"skip"},[t._v("...")]),s("ol",[s("li",{staticClass:"not_leader",attrs:{"data-position":t.position}},[s("mark",[t._v(t._s(t.name))]),s("span",[t._v(t._s(t.formatTime(t.time)))])])])]):t._e()]):s("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.setNickname(e)}}},[s("label",[t._v("Enter your name to post the time "),s("span",{staticClass:"text--green"},[t._v(t._s(t.formatTime(t.time)))])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Enter your name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t.error?s("div",{staticClass:"error"},[t._v("Name length should be between 3 and 20 symbols")]):t._e()]),s("router-link",{staticClass:"btn",attrs:{to:"/",tag:"button"}},[t._v("Home")])],1)])])])},g=[],w=(s("7f7f"),s("c5f6"),{data:function(){return{leaderboard:null,position:null,name:"",error:!1}},props:{time:{type:Number}},methods:{setNickname:function(){var t=this;this.name.length>2&&this.name.length<20?(this.error=!1,this.$http.post("/time",{name:this.name,time:this.time,mode:this.$route.name.toLowerCase()}).then(function(e){t.leaderboard=e.body.leaderboard,t.position=e.body.position},function(t){console.log(t)})):this.error=!0},zeroTime:function(t){return t>9?t:"0"+t},formatTime:function(t){var e=Math.floor(t/60),s=t-60*e;return"".concat(this.zeroTime(e),":").concat(this.zeroTime(s))}}}),x=w,O=(s("a92a"),Object(c["a"])(x,C,g,!1,null,"d291c7b6",null));O.options.__file="Modal.vue";var z=O.exports,j={data:function(){return{size:this.options.size,cells:null,bombsCount:this.options.bombsCount,bomb:"boom",finish:null,victory:null,stopwatch:0,stopwatchInterval:null}},props:{options:{type:Object}},created:function(){this.createField()},methods:{createField:function(){this.initData(),this.setBombsPosition()},initData:function(){this.cells=Array(this.size),this.finish=!1,this.victory=!1,this.stopwatch=0;for(var t=0;t<this.size;t++)this.cells[t]=Array(this.size)},setBombsPosition:function(){var t=0;while(t<this.bombsCount){var e=[this.randomNumber(),this.randomNumber()];this.cells[e[0]][e[1]]&&this.cells[e[0]][e[1]].value===this.bomb||(t++,this.cells[e[0]][e[1]]={value:this.bomb,clicked:!1,rightClicked:!1})}this.setCellsNumbers()},setCellsNumbers:function(){for(var t=0;t<this.cells.length;t++)for(var e=0;e<this.cells[t].length;e++)this.cells[t][e]&&this.cells[t][e].value===this.bomb||(this.cells[t][e]={value:this.checkBombs(t,e),clicked:!1,rightClicked:!1})},checkBombs:function(t,e){var s=this,i=0,n=this.positions(t,e);return n.map(function(t){s.cells[t[0]]&&s.cells[t[0]][t[1]]&&s.cells[t[0]][t[1]].value===s.bomb&&i++}),i},randomNumber:function(){return Math.floor(Math.random()*this.size)},cellClick:function(t,e){var s=this;this.stopwatchInterval||(this.stopwatchInterval=setInterval(function(){s.stopwatch++},1e3)),this.cells[t][e].clicked||this.finish||(0===this.cells[t][e].value&&this.discardZeros(t,e),this.$set(this.cells[t][e],"clicked",!0),this.$set(this.cells[t],e,this.cells[t][e]),this.$set(this.cells,t,this.cells[t]),this.checkFinish(t,e),this.checkBomb(t,e))},cellRightClick:function(t,e){this.finish||(this.$set(this.cells[t][e],"rightClicked",!this.cells[t][e].rightClicked),this.$set(this.cells[t],e,this.cells[t][e]),this.$set(this.cells,t,this.cells[t]))},checkFinish:function(t,e){var s=this,i=this.cells.every(function(t){return t.every(function(t){return t.clicked||t.value===s.bomb})});i&&(this.finish=!0,this.victory=!0,clearInterval(this.stopwatchInterval),this.stopwatchInterval=null)},checkBomb:function(t,e){if(this.cells[t][e].value===this.bomb){this.finish=!0;for(var s=0;s<this.cells.length;s++)for(var i=0;i<this.cells[s].length;i++)this.cells[s][i].value===this.bomb&&(this.cells[s][i].clicked=!0)}},discardZeros:function(t,e){var s=this,i=this.positions(t,e);i.map(function(t){s.cells[t[0]]&&s.cells[t[0]][t[1]]&&!s.cells[t[0]][t[1]].clicked&&(s.cells[t[0]][t[1]].clicked=!0,0===s.cells[t[0]][t[1]].value&&s.discardZeros(t[0],t[1]))})},positions:function(t,e){return[[t-1,e-1],[t-1,e],[t-1,e+1],[t,e-1],[t,e+1],[t+1,e-1],[t+1,e],[t+1,e+1]]}},components:{Modal:z}},M=j,$=(s("c226"),Object(c["a"])(M,k,y,!1,null,"638a7f58",null));$.options.__file="Field.vue";var T=$.exports;i["a"].use(d["a"]);var N=new d["a"]({mode:"hash",base:"/",routes:[{name:"Home",path:"/",component:_},{name:"Easy",path:"/easy",component:T,props:{options:m.easy}},{name:"Medium",path:"/medium",component:T,props:{options:m.medium}},{name:"Hard",path:"/hard",component:T,props:{options:m.hard}}]}),P=N;i["a"].use(n["a"]),i["a"].config.productionTip=!1,new i["a"]({router:P,render:function(t){return t(h)}}).$mount("#app")},"64a9":function(t,e,s){},"74aa":function(t,e,s){},8069:function(t,e,s){},"9df8":function(t,e,s){},a92a:function(t,e,s){"use strict";var i=s("74aa"),n=s.n(i);n.a},c226:function(t,e,s){"use strict";var i=s("9df8"),n=s.n(i);n.a},d286:function(t,e,s){"use strict";var i=s("8069"),n=s.n(i);n.a}});